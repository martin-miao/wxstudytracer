<view class="container"><view class="main-content"><scroll-view class="left-panel" scroll-y="{{true}}"><block wx:for="{{students}}" wx:for-item="student" wx:for-index="__i0__" wx:key="_id"><view data-event-opts="{{[['tap',[['selectStudent',['$0'],[[['students','_id',student._id,'_id']]]]]]]}}" class="student-item" style="{{'background:'+(selectedId===student._id?'#f0f0f0':'')+';'}}" bindtap="__e">{{''+student.name+''}}</view></block></scroll-view><scroll-view class="right-panel" scroll-y="{{true}}"><block wx:if="{{selectedStudent}}"><view class="info-table"><view class="row"><view class="col header">学员信息</view><view class="col">{{selectedStudent.info||'-'}}</view></view><view class="row"><view class="col header">缴费记录</view><view class="col"><block wx:for="{{selectedStudent.payments}}" wx:for-item="payment" wx:for-index="index" wx:key="index"><view>{{''+payment.date+" ￥"+payment.amount+''}}</view></block></view></view><view class="row"><view class="col header">总课时数</view><view class="col">{{selectedStudent.totalLessons}}</view></view><view class="row"><view class="col header">消减课时数</view><view class="col">{{selectedStudent.usedLessons}}</view></view><view class="row"><view class="col header">剩余课时</view><view class="col">{{selectedStudent.totalLessons-selectedStudent.usedLessons}}</view></view><block wx:for="{{selectedStudent.lessons}}" wx:for-item="lesson" wx:for-index="index" wx:key="index"><view class="row"><view class="col header">{{"第"+(index+1)+"次消减"}}</view><view class="col">{{'时间：'+lesson.date}}<view class="_br"></view>{{'成果：'+lesson.result+''}}</view></view></block></view></block></scroll-view></view><view class="bottom-bar"><button data-event-opts="{{[['tap',[['addStudent',['$event']]]]]}}" bindtap="__e">追加学员</button><button data-event-opts="{{[['tap',[['updateStudent',['$event']]]]]}}" bindtap="__e">更新信息</button></view></view>